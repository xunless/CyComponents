(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1e3:function(n,e,t){"use strict";t.r(e);var a={data:()=>({str:"\n          /*\n            @param { string } name - 获取到微信回调的url链接\n          */\n          // 正则获取code\n          function getQueryString(name: string) {\n            var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i')\n            var r = window.location.search.substr(1).match(reg)\n            if (r != null) return unescape(r[2])\n            return null\n          }\n\n          /*\n            @param { function } callback - 获取到openid后可执行的函数(可穿可不穿)\n          */\n         // 获取用户信息\n          async function GetOpenId(callback?: Function) {\n            var redirecturl = encodeURIComponent(window.location.href)\n            code = getQueryString('code')\n            if (!code && !openid) {\n              window.location.href =\n                'http://open.weixin.qq.com/connect/oauth2/authorize?appid=' +\n                wxappid +\n                '&redirect_uri=' +\n                redirecturl +\n                '&response_type=code&scope=snsapi_base&state=0#wechat_redirect'\n            } else if (code && !openid) {\n              const openid: RootStateTypes = await GetQryWebToken()\n              await GetUserinfo(openid.openid)\n              if (callback) callback()\n            } else {\n              if (callback) callback()\n            }\n          }\n        <\/script>\n      "}),methods:{back(n){this.link=n}}},r=t(23),i=Object(r.a)(a,(function(){var n=this.$createElement,e=this._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[e("h1",{attrs:{id:"微信公众号正则获取code与获取用户信息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微信公众号正则获取code与获取用户信息"}},[this._v("#")]),this._v(" 微信公众号正则获取code与获取用户信息")]),this._v(" "),[e("demo",{attrs:{codeStr:this.str}},[this._v("\n    微信公众号正则获取code与获取用户信息\n  ")])]],2)}),[],!1,null,null,null);e.default=i.exports}}]);