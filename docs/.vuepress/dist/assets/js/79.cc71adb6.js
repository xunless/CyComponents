(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1029:function(n,t,e){"use strict";e.r(t);var s={data:()=>({srcList:["http://39.99.37.143:3000/JiaWenZhen/pic/raw/master/code.jpg"],url:"http://39.99.37.143:3000/JiaWenZhen/pic/raw/master/code.jpg",str:" \n        <template>\n          <div class=\"post\">\n            <tki-qrcode class=\"qrcode\" cid=\"qrcode\" ref=\"qrcode\" :val=\"val\" :size=\"size\" :onval=\"onval\" :loadMake=\"loadMake\" :usingComponents=\"true\" @result=\"qrR\" :show=\"false\" ></tki-qrcode>\n            <view class=\"wrapper\"><canvas style=\"height: 100%;width: 100%;backgroundColor: #FFFFFF\" canvas-id=\"firstCanvas\"></canvas></view>\n          </div>\n        </template>\n        <script>\n          import tkiQrcode from '@/components/tki-qrcode/tki-qrcode.vue'\n          export default {\n          data() {\n            return {\n              canvasShow: false,\n              picurl:'',\n              val: '', // 要生成的二维码值\n              size: 325, // 二维码大小\n              unit: 'upx', // 单位\n              background: '#b4e9e2', // 背景色\n              foreground: '#309286', // 前景色\n              pdground: '#32dbc6', // 角标色\n              icon: '', // 二维码图标\n              iconsize: 40, // 二维码图标大小\n              lv: 3, // 二维码容错级别 ， 一般不用设置，默认就行\n              onval: false, // val值变化时自动重新生成二维码\n              loadMake: true, // 组件加载完成后自动生成二维码\n              src: '', // 二维码生成后的图片地址或base64\n              cover:'static/share_bg.png'\n            }\n          },\n          onLoad:function(option){\n            var thas=this\n            thas.val=option.devicenumber\n          },\n          methods: {\n            qrR(path) {\n              let that = this;\n              this.qr_path = path;\n              let system_info = uni.getSystemInfoSync();\n              let ctx = uni.createCanvasContext('firstCanvas');\n              console.log(res.path);\n              ctx.drawImage(res.path, 0, 0, uni.upx2px(750), uni.upx2px(1330));\n              ctx.drawImage(path, uni.upx2px(184), uni.upx2px(630), uni.upx2px(375), uni.upx2px(400));\n              ctx.draw(false, () => {\n                uni.canvasToTempFilePath({\n                  x: 0,\n                  y: 0,\n                  width: 375,\n                  height: uni.upx2px(1330),\n                  destWidth: 375,\n                  destHeight: uni.upx2px(1330),\n                  canvasId: 'firstCanvas',\n                  success: function(res) {\n                    uni.saveImageToPhotosAlbum({\n                      filePath: res.tempFilePath,\n                      success: function() {\n                        that.picurl=res.tempFilePath\n                      }\n                    });\n                  },\n                  fail(e) {\n                    uni.showToast({\n                        title: '生成海报失败',\n                        icon: 'none'\n                    });\n                  }\n                });\n              }); \n            },\n            savePic () {\n              uni.showLoading({\n                title: '正在保存'\n              });\n              uni.saveImageToPhotosAlbum({\n                filePath: this.picurl,\n                success: function () {\n                  uni.showToast({\n                    title: '图片保存成功～'\n                  });\n                },\n                fail: function (e) {\n                },\n                complete: function (){\n                  uni.hideLoading()\n                }\n              });\n            }\n          },\n          components: {\n            tkiQrcode\n          }\n        }\n        <\/script>\n      "})},a=e(23),i=Object(a.a)(s,(function(){var n=this.$createElement,t=this._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("h1",{attrs:{id:"uniapp公用页面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uniapp公用页面"}},[this._v("#")]),this._v(" UNIAPP公用页面")]),this._v(" "),[t("demo",{attrs:{codeStr:this.str}},[t("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:this.url,"preview-src-list":this.srcList}})],1)]],2)}),[],!1,null,null,null);t.default=i.exports}}]);