(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1026:function(s,n,e){"use strict";e.r(n);var t={data:()=>({str:"\n\n          <script>\n            // 配网页面\n\n            // Android\n            const esptouch = uni.requireNativePlugin('EsptouchMoudle')\n\n            // ios\n            const esptouch = uni.requireNativePlugin('DCTestUniPlugin-TestModule')\n\n            export default {\n              data() {\n\t\t\t          return {\n                  ssid: '', // wifi名称\n                  password: '', // wifi密码\n                  deviceCount: 1, // 配网的设备数量\n                  broadca: 0, // wifi配网 0 组播 1广波\n                }\n              },\n              onLoad() {\n                this.init()\n              },\n              methods: {\n                // 初始化\n                init() {\n                  // 所有方法的调用结果都返回到了initEsptouch中  Android和ios的初始化方法不一样\n\n                  // Android\n                  esptouch.initEsptouch(res => {\n                    if (res.state === 1 && res.result && res.result.length > 0) { // 配网成功\n                      console.log(res.result[0].bssid) // 返回设备bssid\n                      this.handleClose()\n                    } else if (res && res.confirmEnable && !res.is5G) { // 返回wifi名称\n                      this.ssid = res.ssid\n                    } else if (res.state === -2) { // 配网失败\n                      this.handleClose()\n                    } else { // 返回的提示信息\n                      this.$toast(res.message)\n                    }\n                  })\n\n                  // ios\n                  esptouch.esptouchInit({a: 1}, res => {\n                    if (res.state === 0) {\n                      this.ssid = res.ssid\n                    } else if (res.state === 1 && res.result && res.result.length > 0) {\n                      console.log(res.result[0].bssid)\n                      this.handleClose()\n                    } else {\n                      this.$toast(res.message)\n                    }\n                  })\n                },\n                // 开始配网  ssid:wifi名称  password: wifi密码  deviceCount: 设备数量\n                handleStart() {\n                  if (this.ssid.trim().length > 0 && this.password.trim().length > 0) {\n                    esptouch.executeEsptouch({\n                        ssid: this.ssid,\n                        password: this.password,\n                        deviceCount: this.deviceCount,\n                        broadca: this.broadca\n                      },\n                      res => {\n                        console.log(res)\n                      }\n                    )\n                  } else {\n                    this.$toast('请将信息填写完整')\n                  }\n                },\n                // 停止配网\n                handleClose() {\n                  esptouch.cancelEsptouch(res => {\n                    console.log(res)\n                  })\n                },\n              },\n              onUnload() {\n                console.log('关闭页面')\n                // 关闭页面断开配网\n                esptouch.unregister(res => {\n                  console.log(res)\n                })\n              }\n            }\n\n          <\/script>\n        "})},i=e(23),o=Object(i.a)(t,(function(){var s=this.$createElement,n=this._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[n("h1",{attrs:{id:"uniapp-wifi配网"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uniapp-wifi配网"}},[this._v("#")]),this._v(" uniapp WiFi配网")]),this._v(" "),[n("demo",{attrs:{codeStr:this.str}},[this._v("\n    Android插件在 .vuepress/public/other 文件夹下\n    将EsptouchMoudle文件夹放在nativeplugins下\n    注: 在使用插件前获取下当前位置\n  ")])]],2)}),[],!1,null,null,null);n.default=o.exports}}]);