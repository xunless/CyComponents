(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1007:function(e,n,t){"use strict";t.r(n);var r={data:()=>({str:"\n        <script>\n          export default {\n            data() {\n              return {\n                payType: 1, // 支付方式\n              }\n            },\n            methods: {\n              confirmPay() {\n                this.$http.request({\n                  method: 'POST',\n                  url: 支付接口,\n                  data: 参数\n                }).then(res => {\n                  console.log(res)\n                  if (res) {\n                    let that = this\n                    if (that.payType === 2) { // 小程序支付\n                      if (res.wxPayMpOrderResult) {\n                        uni.requestPayment({\n                          provider: 'wxpay',\n                          timeStamp: res.wxPayMpOrderResult.timeStamp,\n                          nonceStr: res.wxPayMpOrderResult.nonceStr,\n                          package: res.wxPayMpOrderResult.packageValue,\n                          signType: res.wxPayMpOrderResult.signType,\n                          paySign: res.wxPayMpOrderResult.paySign,\n                          success (result) {\n                            that.$toast('小程序支付成功')\n                          },\n                          fail (err) {\n                            console.log(err)\n                            that.$toast('支付已取消')\n                          }\n                        })\n                      } else {\n                        that.$toast('支付失败')\n                      }\n                    } else if (that.payType === 1) { // 支付宝支付\n                      if(res.alipayTradeAppPayResponseBody) {\n                        uni.requestPayment({\n                          provider: 'alipay',\n                          orderInfo: res.alipayTradeAppPayResponseBody,\n                          success (result) {\n                            that.$toast('支付宝支付成功')\n                          },\n                          fail (err) {\n                            console.log(err)\n                            that.$toast('支付已取消')\n                          }\n                        })\n                      } else {\n                        that.$toast('支付失败')\n                      }\n                    } else if (that.payType === 0) { // 微信支付返回\n                      if (res.wxPayAppOrderResult) {\n                        let paymentData = JSON.stringify({\n                          appid: res.wxPayAppOrderResult.appId,\n                          noncestr: res.wxPayAppOrderResult.nonceStr,\n                          package: res.wxPayAppOrderResult.packageValue,\n                          partnerid: res.wxPayAppOrderResult.partnerId,\n                          prepayid: res.wxPayAppOrderResult.prepayId,\n                          timestamp: res.wxPayAppOrderResult.timeStamp,\n                          sign: res.wxPayAppOrderResult.sign\n                        })\n                        uni.requestPayment({\n                          provider: 'wxpay',\n                          orderInfo: paymentData,\n                          success (result) {\n                            that.$toast('微信支付成功')\n                          },\n                          fail (err) {\n                            console.log(err)\n                            that.$toast('支付已取消')\n                          }\n                        })\n                      } else {\n                        that.$toast('支付失败')\n                      }\n                    }\n                    \n                  }\n                })\n              }\n            }\n          }\n        <\/script>\n      "})},a=t(23),s=Object(a.a)(r,(function(){var e=this.$createElement,n=this._self._c||e;return n("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[n("h1",{attrs:{id:"uniapp-支付"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#uniapp-支付"}},[this._v("#")]),this._v(" uniapp  支付")]),this._v(" "),[n("demo",{attrs:{codeStr:this.str}},[this._v("\n  app微信支付、app支付宝支付、微信小程序支付\n  ")])]],2)}),[],!1,null,null,null);n.default=s.exports}}]);