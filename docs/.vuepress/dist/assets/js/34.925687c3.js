(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{995:function(n,t,s){"use strict";s.r(t);var e={data:()=>({str:"\n      /**\n       * @param {url} url 接口地址\n       * @param {Object} formData 需要向后台传递的参数\n       * @return 接口返回数据\n       * @description UNIAPP中图片上传 可根据实际接口进行修改\n       * */\n        <script>\n          uploadImgFun(url, formData) {\n            var that = this\n            return new Promise((resolve, reject) => {\n              uni.chooseImage({\n                count: 1, //默认9\n                sizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\n                // sourceType: ['album'], //从相册选择\n                success: function(res) {\n                  uni.showLoading({\n                    title: '正在上传中',\n                    mask: true\n                  })\n                  const path = res.tempFilePaths[0]\n                  console.log(path)\n                  uni.uploadFile({\n                    // that.$url.imgUrl 表示连接地址\n                    url: url,\n                    filePath: path,\n                    name: 'file',\n                    formData,\n                    success(res) {\n                      console.log(res)\n                      const data = JSON.parse(res.data)\n                      if (data.status !== 0) {\n                        uni.showToast({\n                          icon: 'none',\n                          title: data.message\n                        })\n                      } else {\n                        resolve(data.data)\n                      }\n                    }\n                  })\n                }\n              })\n            })\n          }\n        <\/script>\n      "})},a=s(23),r=Object(a.a)(e,(function(){var n=this.$createElement,t=this._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":this.$parent.slotKey}},[t("h1",{attrs:{id:"uni-图片上传"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uni-图片上传"}},[this._v("#")]),this._v(" uni 图片上传")]),this._v(" "),[t("demo",{attrs:{codeStr:this.str}},[this._v("\n    ::: tip\n      uni-app 图片上传\n    :::\n  ")])]],2)}),[],!1,null,null,null);t.default=r.exports}}]);