(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1033:function(e,t,l){"use strict";l.r(t);var a={name:"UploadCom",props:{refName:{type:String,default:null},fileName:{type:String,default:null},accept:{type:String,default:"image/png, image/jpg, image/jpeg, image/gif"},dataArr:{type:Array,default:null},limit:{type:Number,default:9999999}},data:()=>({urlAction:process.env.VUE_APP_BASE_API+"/api/common/upload",url_:process.env.VUE_APP_BASE_API,disabled:!1}),methods:{handleUploadSuccessCasePic(e){console.log(e),this.dataArr.push(e.Data),console.log(this.dataArr)},handleRemove(e){const t=this.$refs[this.refName].uploadFiles;console.log(t);const l=t.findIndex(t=>t.uid===e.uid);t.splice(l,1),this.dataArr.splice(l,1),console.log(t),console.log(this.dataArr)},handlePreview(e){window.open(this.url_+e.response.Data)}}},s=l(23),i=Object(s.a)(a,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-upload",{ref:e.refName,attrs:{action:e.urlAction,data:{fileName:e.fileName},"list-type":"picture-card","auto-upload":!0,"on-success":e.handleUploadSuccessCasePic,accept:e.accept,limit:e.limit,"show-file-list":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return l("div",{},["video/*"===e.accept?[l("span",[e._v(e._s(a.name))])]:[l("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}})],e._v(" "),l("span",{staticClass:"el-upload-list__item-actions"},[e.disabled?e._e():l("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handlePreview(a)}}},[l("i",{staticClass:"el-icon-view"})]),e._v(" "),e.disabled?e._e():l("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[l("i",{staticClass:"el-icon-delete"})])])],2)}}])},[l("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1)}),[],!1,null,null,null);t.default=i.exports}}]);